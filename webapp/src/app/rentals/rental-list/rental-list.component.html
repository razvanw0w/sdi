<h2>List of rentals</h2>
<form #formDir="ngForm" [formGroup]="pageForm">
  <div class="form-group">
    <label for="page">Page</label>
    <input class="form-control" formControlName="page" id="page" required>
    <div *ngIf="page.invalid && (page.dirty || page.touched)" class="alert alert-danger">
      <div *ngIf="page.errors.required">
        PAGE is required.
      </div>
      <div *ngIf="page.errors.min">
        PAGE must be greater or equal than 0.
      </div>
      <div *ngIf="page.errors.pattern">
        PAGE must consist only of digits.
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="size">Size</label>
    <input class="form-control" formControlName="size" id="size" required>
    <div *ngIf="size.invalid && (size.dirty || size.touched)" class="alert">
      <div *ngIf="size.errors.required">
        Size is required.
      </div>
      <div *ngIf="size.errors.pattern">
        Size must consist only of digits.
      </div>
    </div>
  </div>
  <button (click)="getAllPaginated(page.value, size.value)" [disabled]="pageForm.invalid" type="submit">Filter</button>
</form>

<ul class="rentals">
  <li (click)="onSelect(rental)" *ngFor="let rental of rentals" [class.selected]="rental === selectedRental">
    <span class="badge">ID: {{rental.rentalId}}</span> Movie: {{rental.movieId}} Client: {{rental.clientId}}
  </li>
</ul>

<div *ngIf="selectedRental" class=details>
  <h3>
    Details for rental {{selectedRental.rentalId}}
  </h3>
  <div>
    <span>Rental ID: </span>{{selectedRental.rentalId}}
  </div>
  <div>
    <span>Rental Movie ID: </span>{{selectedRental.movieId}}
  </div>
  <div>
    <span>Rental Client ID: </span>{{selectedRental.clientId}}
  </div>
  <label>
    Rental time: <input [(ngModel)]="selectedRental.time" placeholder="rental date"/>
  </label>
  <br>
  <br>
</div>


<nav>
  <div class="panels" routerLink="/rentals" routerLinkActive="active">< Back</div>
</nav>
